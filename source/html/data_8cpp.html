<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SynScope: data.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>data.cpp File Reference</h1><code>#include &lt;fstream&gt;</code><br>
<code>#include &lt;sstream&gt;</code><br>
<code>#include &lt;iostream&gt;</code><br>
<code>#include &lt;cassert&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &quot;<a class="el" href="data_8h_source.html">data.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#62c4fa6d0518bd294d4594c6c881c448">FindGraph</a> (<a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;Relations, int x1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds a graph connected to edge x1 following Relations.  <a href="#62c4fa6d0518bd294d4594c6c881c448"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#dcecc75ae7d05d1eb1040b02cad1bdf6">IsRelationConflicting</a> (<a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;Relations, int x1, int x2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the relation x1-x2 is in conflict with the existing relations Relations.  <a href="#dcecc75ae7d05d1eb1040b02cad1bdf6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#6fcc31c9f91df3724fea175e2b499db9">RelationToText</a> (<a class="el" href="struct_r_e_l_a_t_i_o_n.html">RELATION</a> &amp;r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; <a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#21cfa0e56776a5e1ddb457f7b110a097">FindGraphs</a> (<a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> Relations)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds a set of disconnected graphs within Relations.  <a href="#21cfa0e56776a5e1ddb457f7b110a097"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#df6794acbbc8e7dce0229d839d7df6aa">DoubleToRatio</a> (double v, int &amp;n, int &amp;d, int maxd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts double v to ratio of integers n/d, where d is at most maxd.  <a href="#df6794acbbc8e7dce0229d839d7df6aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#96bc83b772bff481176b6ddfaab73f60">GraphToString</a> (vector&lt; int &gt; g)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts vector&lt;int&gt; g to a string representation of the form "g[0]-g[1]-g[2]...-g[n]".  <a href="#96bc83b772bff481176b6ddfaab73f60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#3f2c40ec0a7831fb1cfbb606977d43ef">parse</a> (char *data, bool &amp;ok)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">parses a null-terminated block of data for space/tab delimited values.  <a href="#3f2c40ec0a7831fb1cfbb606977d43ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="data_8cpp.html#7462dbc2e11c40ca202c65c60fda53f1">ComputeAllSourceOffsetFrom</a> (<a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;RelationsActive, int sourceidx, int value, std::map&lt; int, int &gt; &amp;offsetout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the offset of linked signal/video sources, from the the current position of the master source.  <a href="#7462dbc2e11c40ca202c65c60fda53f1"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7462dbc2e11c40ca202c65c60fda53f1"></a><!-- doxytag: member="data.cpp::ComputeAllSourceOffsetFrom" ref="7462dbc2e11c40ca202c65c60fda53f1" args="(RELATIONS &amp;RelationsActive, int sourceidx, int value, std::map&lt; int, int &gt; &amp;offsetout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeAllSourceOffsetFrom           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>RelationsActive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sourceidx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>offsetout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds the offset of linked signal/video sources, from the the current position of the master source. 
<p>
RelationsActive: all the relations that are currently enabled sourceidx/value: offset of the source gainst which the others must be linked offsetout: pairs of &lt;source,offset&gt;<p>
The ID are absolute (no distinction between video or signal) 
</div>
</div><p>
<a class="anchor" name="df6794acbbc8e7dce0229d839d7df6aa"></a><!-- doxytag: member="data.cpp::DoubleToRatio" ref="df6794acbbc8e7dce0229d839d7df6aa" args="(double v, int &amp;n, int &amp;d, int maxd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DoubleToRatio           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts double v to ratio of integers n/d, where d is at most maxd. 
<p>

</div>
</div><p>
<a class="anchor" name="62c4fa6d0518bd294d4594c6c881c448"></a><!-- doxytag: member="data.cpp::FindGraph" ref="62c4fa6d0518bd294d4594c6c881c448" args="(RELATIONS &amp;Relations, int x1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> FindGraph           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a graph connected to edge x1 following Relations. 
<p>
Returns a set of relations that, when followed in order, allow to traverse the graph.<p>
This functions allows to make sure that there are no conflicting sets of relations active. A conflicting relation is for instance adding a relation between s1-s2 when the current active relations include s0-s1, s1-s2. In other words, this function looks for circular relations within the set.<p>
This function works even if the existing set of relations is conflicting; circular relations are correctly handled. (how?)<p>
A recursive implementation is avoided. 
</div>
</div><p>
<a class="anchor" name="21cfa0e56776a5e1ddb457f7b110a097"></a><!-- doxytag: member="data.cpp::FindGraphs" ref="21cfa0e56776a5e1ddb457f7b110a097" args="(RELATIONS Relations)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a>&gt; FindGraphs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a>&nbsp;</td>
          <td class="paramname"> <em>Relations</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a set of disconnected graphs within Relations. 
<p>
Returns a vector&lt;RELATIONS&gt;...... Each RELATIONS is a standalone graph. 
</div>
</div><p>
<a class="anchor" name="96bc83b772bff481176b6ddfaab73f60"></a><!-- doxytag: member="data.cpp::GraphToString" ref="96bc83b772bff481176b6ddfaab73f60" args="(vector&lt; int &gt; g)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString GraphToString           </td>
          <td>(</td>
          <td class="paramtype">vector&lt; int &gt;&nbsp;</td>
          <td class="paramname"> <em>g</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts vector&lt;int&gt; g to a string representation of the form "g[0]-g[1]-g[2]...-g[n]". 
<p>

</div>
</div><p>
<a class="anchor" name="dcecc75ae7d05d1eb1040b02cad1bdf6"></a><!-- doxytag: member="data.cpp::IsRelationConflicting" ref="dcecc75ae7d05d1eb1040b02cad1bdf6" args="(RELATIONS &amp;Relations, int x1, int x2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IsRelationConflicting           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="data_8h.html#4b97445fb0d920ec53954c1420f3217c">RELATIONS</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>Relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the relation x1-x2 is in conflict with the existing relations Relations. 
<p>

</div>
</div><p>
<a class="anchor" name="3f2c40ec0a7831fb1cfbb606977d43ef"></a><!-- doxytag: member="data.cpp::parse" ref="3f2c40ec0a7831fb1cfbb606977d43ef" args="(char *data, bool &amp;ok)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; parse           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&nbsp;</td>
          <td class="paramname"> <em>ok</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
parses a null-terminated block of data for space/tab delimited values. 
<p>
Parses signed integers. Handles specially 'NaN': replace the value by zero. 
</div>
</div><p>
<a class="anchor" name="6fcc31c9f91df3724fea175e2b499db9"></a><!-- doxytag: member="data.cpp::RelationToText" ref="6fcc31c9f91df3724fea175e2b499db9" args="(RELATION &amp;r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString RelationToText           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_e_l_a_t_i_o_n.html">RELATION</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>r</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Mar 11 14:46:43 2012 for SynScope by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
