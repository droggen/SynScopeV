\hypertarget{data_8cpp}{
\section{data.cpp File Reference}
\label{data_8cpp}\index{data.cpp@{data.cpp}}
}
{\tt \#include $<$fstream$>$}\par
{\tt \#include $<$sstream$>$}\par
{\tt \#include $<$iostream$>$}\par
{\tt \#include $<$cassert$>$}\par
{\tt \#include $<$math.h$>$}\par
{\tt \#include \char`\"{}data.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} \hyperlink{data_8cpp_62c4fa6d0518bd294d4594c6c881c448}{FindGraph} (\hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} \&Relations, int x1)
\begin{CompactList}\small\item\em Finds a graph connected to edge x1 following Relations. \item\end{CompactList}\item 
bool \hyperlink{data_8cpp_dcecc75ae7d05d1eb1040b02cad1bdf6}{IsRelationConflicting} (\hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} \&Relations, int x1, int x2)
\begin{CompactList}\small\item\em Checks whether the relation x1-x2 is in conflict with the existing relations Relations. \item\end{CompactList}\item 
QString \hyperlink{data_8cpp_6fcc31c9f91df3724fea175e2b499db9}{RelationToText} (\hyperlink{struct_r_e_l_a_t_i_o_n}{RELATION} \&r)
\item 
vector$<$ \hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} $>$ \hyperlink{data_8cpp_21cfa0e56776a5e1ddb457f7b110a097}{FindGraphs} (\hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} Relations)
\begin{CompactList}\small\item\em Finds a set of disconnected graphs within Relations. \item\end{CompactList}\item 
void \hyperlink{data_8cpp_df6794acbbc8e7dce0229d839d7df6aa}{DoubleToRatio} (double v, int \&n, int \&d, int maxd)
\begin{CompactList}\small\item\em Converts double v to ratio of integers n/d, where d is at most maxd. \item\end{CompactList}\item 
QString \hyperlink{data_8cpp_96bc83b772bff481176b6ddfaab73f60}{GraphToString} (vector$<$ int $>$ g)
\begin{CompactList}\small\item\em Converts vector$<$int$>$ g to a string representation of the form \char`\"{}g\mbox{[}0\mbox{]}-g\mbox{[}1\mbox{]}-g\mbox{[}2\mbox{]}...-g\mbox{[}n\mbox{]}\char`\"{}. \item\end{CompactList}\item 
std::vector$<$ std::vector$<$ int $>$ $>$ \hyperlink{data_8cpp_3f2c40ec0a7831fb1cfbb606977d43ef}{parse} (char $\ast$data, bool \&ok)
\begin{CompactList}\small\item\em parses a null-terminated block of data for space/tab delimited values. \item\end{CompactList}\item 
void \hyperlink{data_8cpp_7462dbc2e11c40ca202c65c60fda53f1}{ComputeAllSourceOffsetFrom} (\hyperlink{data_8h_4b97445fb0d920ec53954c1420f3217c}{RELATIONS} \&RelationsActive, int sourceidx, int value, std::map$<$ int, int $>$ \&offsetout)
\begin{CompactList}\small\item\em Finds the offset of linked signal/video sources, from the the current position of the master source. \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{data_8cpp_7462dbc2e11c40ca202c65c60fda53f1}{
\index{data.cpp@{data.cpp}!ComputeAllSourceOffsetFrom@{ComputeAllSourceOffsetFrom}}
\index{ComputeAllSourceOffsetFrom@{ComputeAllSourceOffsetFrom}!data.cpp@{data.cpp}}
\subsubsection[{ComputeAllSourceOffsetFrom}]{\setlength{\rightskip}{0pt plus 5cm}void ComputeAllSourceOffsetFrom ({\bf RELATIONS} \& {\em RelationsActive}, \/  int {\em sourceidx}, \/  int {\em value}, \/  std::map$<$ int, int $>$ \& {\em offsetout})}}
\label{data_8cpp_7462dbc2e11c40ca202c65c60fda53f1}


Finds the offset of linked signal/video sources, from the the current position of the master source. 

RelationsActive: all the relations that are currently enabled sourceidx/value: offset of the source gainst which the others must be linked offsetout: pairs of $<$source,offset$>$

The ID are absolute (no distinction between video or signal) \hypertarget{data_8cpp_df6794acbbc8e7dce0229d839d7df6aa}{
\index{data.cpp@{data.cpp}!DoubleToRatio@{DoubleToRatio}}
\index{DoubleToRatio@{DoubleToRatio}!data.cpp@{data.cpp}}
\subsubsection[{DoubleToRatio}]{\setlength{\rightskip}{0pt plus 5cm}void DoubleToRatio (double {\em v}, \/  int \& {\em n}, \/  int \& {\em d}, \/  int {\em maxd})}}
\label{data_8cpp_df6794acbbc8e7dce0229d839d7df6aa}


Converts double v to ratio of integers n/d, where d is at most maxd. 

\hypertarget{data_8cpp_62c4fa6d0518bd294d4594c6c881c448}{
\index{data.cpp@{data.cpp}!FindGraph@{FindGraph}}
\index{FindGraph@{FindGraph}!data.cpp@{data.cpp}}
\subsubsection[{FindGraph}]{\setlength{\rightskip}{0pt plus 5cm}{\bf RELATIONS} FindGraph ({\bf RELATIONS} \& {\em Relations}, \/  int {\em x1})}}
\label{data_8cpp_62c4fa6d0518bd294d4594c6c881c448}


Finds a graph connected to edge x1 following Relations. 

Returns a set of relations that, when followed in order, allow to traverse the graph.

This functions allows to make sure that there are no conflicting sets of relations active. A conflicting relation is for instance adding a relation between s1-s2 when the current active relations include s0-s1, s1-s2. In other words, this function looks for circular relations within the set.

This function works even if the existing set of relations is conflicting; circular relations are correctly handled. (how?)

A recursive implementation is avoided. \hypertarget{data_8cpp_21cfa0e56776a5e1ddb457f7b110a097}{
\index{data.cpp@{data.cpp}!FindGraphs@{FindGraphs}}
\index{FindGraphs@{FindGraphs}!data.cpp@{data.cpp}}
\subsubsection[{FindGraphs}]{\setlength{\rightskip}{0pt plus 5cm}vector$<${\bf RELATIONS}$>$ FindGraphs ({\bf RELATIONS} {\em Relations})}}
\label{data_8cpp_21cfa0e56776a5e1ddb457f7b110a097}


Finds a set of disconnected graphs within Relations. 

Returns a vector$<$RELATIONS$>$...... Each RELATIONS is a standalone graph. \hypertarget{data_8cpp_96bc83b772bff481176b6ddfaab73f60}{
\index{data.cpp@{data.cpp}!GraphToString@{GraphToString}}
\index{GraphToString@{GraphToString}!data.cpp@{data.cpp}}
\subsubsection[{GraphToString}]{\setlength{\rightskip}{0pt plus 5cm}QString GraphToString (vector$<$ int $>$ {\em g})}}
\label{data_8cpp_96bc83b772bff481176b6ddfaab73f60}


Converts vector$<$int$>$ g to a string representation of the form \char`\"{}g\mbox{[}0\mbox{]}-g\mbox{[}1\mbox{]}-g\mbox{[}2\mbox{]}...-g\mbox{[}n\mbox{]}\char`\"{}. 

\hypertarget{data_8cpp_dcecc75ae7d05d1eb1040b02cad1bdf6}{
\index{data.cpp@{data.cpp}!IsRelationConflicting@{IsRelationConflicting}}
\index{IsRelationConflicting@{IsRelationConflicting}!data.cpp@{data.cpp}}
\subsubsection[{IsRelationConflicting}]{\setlength{\rightskip}{0pt plus 5cm}bool IsRelationConflicting ({\bf RELATIONS} \& {\em Relations}, \/  int {\em x1}, \/  int {\em x2})}}
\label{data_8cpp_dcecc75ae7d05d1eb1040b02cad1bdf6}


Checks whether the relation x1-x2 is in conflict with the existing relations Relations. 

\hypertarget{data_8cpp_3f2c40ec0a7831fb1cfbb606977d43ef}{
\index{data.cpp@{data.cpp}!parse@{parse}}
\index{parse@{parse}!data.cpp@{data.cpp}}
\subsubsection[{parse}]{\setlength{\rightskip}{0pt plus 5cm}std::vector$<$std::vector$<$int$>$ $>$ parse (char $\ast$ {\em data}, \/  bool \& {\em ok})}}
\label{data_8cpp_3f2c40ec0a7831fb1cfbb606977d43ef}


parses a null-terminated block of data for space/tab delimited values. 

Parses signed integers. Handles specially 'NaN': replace the value by zero. \hypertarget{data_8cpp_6fcc31c9f91df3724fea175e2b499db9}{
\index{data.cpp@{data.cpp}!RelationToText@{RelationToText}}
\index{RelationToText@{RelationToText}!data.cpp@{data.cpp}}
\subsubsection[{RelationToText}]{\setlength{\rightskip}{0pt plus 5cm}QString RelationToText ({\bf RELATION} \& {\em r})}}
\label{data_8cpp_6fcc31c9f91df3724fea175e2b499db9}


